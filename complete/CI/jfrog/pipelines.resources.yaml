resources:

# mvn PIPELINE
  - name: src_code_back_app
    type: GitRepo
    configuration:
      files:
        include: ^complete\/.+
        exclude: ^complete\/CI\/.+
      gitProvider: ych_github
      path: cyan21/gs-multi-module
      branches:
        include: jfrog

# DOCKER PIPELINE
  # - name: src_dockerfile_back_app
  #   type: GitRepo
  #   configuration:
  #     files:
  #       include: ^back\/CI\/Docker\/.+
  #     path: HamzaZFrog/k8s-app
  #     branches:
  #       include: swampup2020
  #     gitProvider: hza_github

  # Build info for the published mvn App
  - name: back_appBuildInfo
    type: BuildInfo
    configuration:
      sourceArtifactory: artifactory
      buildName: back_app_mvn_pipeline
      buildNumber: ${run_number}

  - name: back_appBuildInfo_scanned
    type: BuildInfo
    configuration:
      sourceArtifactory: artifactory
      buildName: back_app_mvn_pipeline
      buildNumber: '${run_number}'

  # - name: build_info_back_app_promoted_staging
  #   type: BuildInfo
  #   configuration:
  #     sourceArtifactory: artifactory
  #     buildName: back_app_mvn_pipeline
  #     buildNumber: '${run_number}'

  # - name: back_app_exec
  #   type: FileSpec
  #   configuration:
  #     sourceArtifactory: artifactory
  #     #pattern: 'app-mvn-rc-local/**/webservice-*.war'
  #     pattern: 'app-mvn-rc-local/org/jfrog/example/gradle/webservice/1.1.2/webservice-1.1.2.war'
  #     #buildName: ${triggerBuildInfoName}
  #     #buildNumber: ${triggerBuildInfoNumber}
  #     target: war/webservice.war
  #     flat: true

  # - name: build_info_docker_backapp
  #   type: BuildInfo
  #   configuration:
  #     sourceArtifactory: artifactory
  #     buildName: back_app-docker
  #     buildNumber: '${run_number}'

  # - name: build_info_docker_backapp_scanned
  #   type: BuildInfo
  #   configuration:
  #     sourceArtifactory: artifactory
  #     buildName: back_app-docker
  #     buildNumber: '${run_number}'

  # - name: build_info_docker_backapp_promoted_staging
  #   type: BuildInfo
  #   configuration:
  #     sourceArtifactory: artifactory
  #     buildName: back_app-docker
  #     buildNumber: '${run_number}'
